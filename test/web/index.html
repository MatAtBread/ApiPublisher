<html>
<script src="RemoteApi.js"></script>
<script>
//Test using "nodent" compiled at the server (nodented.njs)
//Nodent on the client requires at "top-level" error handler
//called $error()
window.$error = function(ex) {
	alert(JSON.stringify(ex,null,2)) ;
}

// Test using client-side JavaScript
// Load the remote API
RemoteApi.load("/testapi").then(function(api){
    window.api = api ;
// Once it's loaded, call the async-function "delay"	
	api.delay(400).then(function(result){
// Display the result ;		
		document.getElementById("flutter").innerText = "Flutter was "+result.flutter+" ms" ;
	},$error) ;
},$error) ;
</script>
<script src="nodented.js"></script>

<body>
<div id="flutter">
Testing...
</div>
<button id="test">Test again</button>
<button id="oops">Test errors</button>
</body>
</html>
